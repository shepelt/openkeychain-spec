# Record Format

OpenKeyChain에서 사용하는 registration record는 colored coin 방식으로 transaction으로서 블록체인에 저장되며, 다음 조건을 만족해야 한다.* OpenKeyChain marker output을 포함한다.* Marker output은 아래 형식을 따른다.| Field   | Description                                                                                                                                                                                                                                                                          | Size     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| Marker  | 해당 output이 OpenKeyChain marker output이라는 사실을 확인하는 매직 바이트. 항상 0x4B43 이어야 한다.                                                                                                                                                                                 | 2 바이트 |
| Version | Major, Minor 버전 정보. 현재,0x0100 이다 (1.0)                                                                                                                                                                                                                                       | 2 바이트 |
| OP code | 해당 output에서 선언하는 operation 정보.<ul><li>Domain 등록: OP_DOMAIN_REG (0x0001)</li><li>Domain 폐기: OP_DOMAIN_REV (0x0002)</li><li> Subdomain 등록: OP_SUBDOMAIN_REG (0x0003)</li><li>Subdomain 폐기: OP_SUBDOMAIN_REG (0x0004)</li><li>인증서 등록: OP_CERT_REG (0x0101)</li><li>인증서 폐기: OP_CERT_REV (0x0102)</ul> | 2 바이트 |
| Payload | 해당 OP code 관련 추가 정보 또는 메타데이터                                                                                                                                                                                                                                          | 가변     |* 서브 도메인 또는 인증서를 다른 도메인이나 서브 도메인 하위에 생성하는 경우, 생성하려는 새로운 서브 도메인이나 인증서를 기존 도메인 또는 서브 도메인 인증서를 사용해서 blessing 한다.* 이 경우 생성하려는 새로운 서브 도메인이나 인증서의 public key를 address 방식으로 표현하여 marker output 바로 이전의 colored output으로 포함시켜야 한다. 만약 서브 도메인 등록/폐기, 또는 인증서 등록/폐기를 수행하는 registration record에 이러한 colored output이 포함되지 않으면, 이는 유효하지 않은 registration record로 취급된다.* Marker output 바로 다음에 오는 output들은 모두 무시되며, uncolored output으로 취급된다.

